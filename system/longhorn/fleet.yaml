defaultNamespace: longhorn-system
helm:
  repo: https://charts.longhorn.io
  chart: longhorn
  version: v1.6.2
  releaseName: longhorn
  values:
    global:
      cattle:
        systemDefaultRegistry: "registry.cn-hangzhou.aliyuncs.com"
    replicaCount: 2
    longhornManager:
        nodeSelector: {"node-role.kubernetes.io/master": "true"}
    longhornDriver:
        nodeSelector: {"node-role.kubernetes.io/master": "true"}
    longhornUI:
        nodeSelector: {"node-role.kubernetes.io/master": "true"}
    longhornConversionWebhook:
        nodeSelector: {"node-role.kubernetes.io/master": "true"}
    longhornAdmissionWebhook:
        nodeSelector: {"node-role.kubernetes.io/master": "true"}
    longhornRecoveryBackend:
        nodeSelector: {"node-role.kubernetes.io/master": "true"}
    ingress: 
      enabled: true
      host: longhorn.homelab

diff:
  comparePatches:
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: engineimages.longhorn.io
    operations:
    - {"op": "replace", "path": "/status"}
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: nodes.longhorn.io
    operations:
    - {"op": "replace", "path": "/status"}
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: volumes.longhorn.io
    operations:
    - {"op": "replace", "path": "/status"}
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: engines.longhorn.io
    operations:
    - {"op": "replace", "path": "/status"}
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: instancemanagers.longhorn.io
    operations:
    - {"op": "replace", "path": "/status"}
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: replicas.longhorn.io
    operations:
    - {"op": "replace", "path": "/status"}
  - apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    name: settings.longhorn.io
    operations:
    - {"op": "replace", "path": "/status"}